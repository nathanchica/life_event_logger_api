"""
Represents an authenticated user in the system
"""
type User {
    """
    Unique identifier for the user
    """
    id: ID!

    """
    External authentication provider identifier
    """
    googleId: String!

    """
    User's email address
    """
    email: String!

    """
    User's display name
    """
    name: String!

    """
    Timestamp when the user was first created
    """
    createdAt: DateTime!

    """
    Timestamp when the user record was last updated
    """
    updatedAt: DateTime!

    """
    All loggable events created by this user, sorted by newest first
    """
    loggableEvents: [LoggableEvent!]!

    """
    All event labels created by this user, sorted by oldest first
    """
    eventLabels: [EventLabel!]!
}

"""
Input for Google OAuth login mutation
"""
input GoogleOAuthLoginMutationInput {
    """
    Google OAuth ID token from frontend
    """
    googleToken: String!
}

"""
Payload returned after successful Google OAuth login mutation
"""
type GoogleOAuthLoginMutationPayload {
    """
    JWT token for the authenticated user
    """
    token: String

    """
    The authenticated user object
    """
    user: User

    """
    List of errors that occurred during login
    """
    errors: [GenericApiError!]!
}

extend type Query {
    """
    Get the currently authenticated user's profile
    """
    loggedInUser: User @requireAuth
}

extend type Mutation {
    """
    Authenticate a user using Google OAuth ID token
    """
    googleOAuthLoginMutation(input: GoogleOAuthLoginMutationInput!): GoogleOAuthLoginMutationPayload!
}
